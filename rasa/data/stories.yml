version: "2.0"

stories:

- story: happy path
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_great
  - action: utter_happy

- story: sad path 1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_unhappy
  - action: utter_cheer_up
  - action: utter_did_that_help
  - intent: affirm
  - action: utter_happy

- story: sad path 2
  steps:
  - intent: greet
  - action: utter_greet
  - intent: mood_unhappy
  - action: utter_cheer_up
  - action: utter_did_that_help
  - intent: deny
  - action: utter_goodbye

- story: respond to change_email
  steps:
  - intent: change_email
  - action: action_unset_email
  - action: action_change_email
  

- story: respond to change_phoneno,  phoneno provided
  steps:
  - intent: change_phoneno
  - slot_was_set:
      - phoneno: null
  - action: action_change_phoneno

- story: respond to change_phoneno, phoneno not provided
  steps:
  - intent: change_phoneno
  - action: action_change_phoneno
  - intent: phoneno_provided
  - slot_was_set:
      - phoneno: null
  - action: action_change_phoneno

- story: confused about phoneno
  steps:
  - intent: phoneno_provided
  - slot_was_set:
      - phoneno: null
  - action: action_unset_phoneno


- story: respond to authinform
  steps:
  - intent: authinform
  - action: action_authinform

- story: query_account_balance
  steps:
  - intent: account_balance
  - action: action_account_balance

- story: changing the pin, pin not provided
  steps:
  - intent: pin_change
  - action: action_pin_change
  - intent: pin_provided
  - slot_was_set:
      - pin: null
  - action: action_pin_change

- story: changing the pin, pin provided already
  steps:
  - intent: pin_provided
  - slot_was_set:
      - pin: null
  - action: action_unset_pin

- story: confused about pin
  steps:
  - intent: pin_provided
  - slot_was_set:
      - pin: null
  - action: action_unset_pin

- story: block card
  steps: 
  - intent: block_card
  - action: utter_ask_block_card
  - checkpoint: block_card_confirmation

- story: block card + confirm
  steps:
  - checkpoint: block_card_confirmation
  - intent: affirm
  - action: action_block_card

- story: block card + deny
  steps:
  - checkpoint: block_card_confirmation
  - intent: deny
  - action: utter_request_cancelled

- story: freeze account
  steps: 
  - intent: freeze_account 
  - action: utter_ask_confirmation
  - checkpoint: freeze_account_confirmation

- story: freeze account + confirm
  steps:
  - checkpoint: freeze_account_confirmation
  - intent: affirm
  - action: action_freeze_account 

- story: freeze account + deny
  steps:
  - checkpoint: freeze_account_confirmation
  - intent: deny
  - action: utter_request_cancelled 

- story: deactivate transfer money form before completion
  steps:
  - active_loop: transfer_form
  - intent: stop_transfer
  - action: utter_transfer_cancel
  - intent: affirm
  - active_loop: null
  - slot_was_set:
    - requested_slot: null 

- story: set account number
  steps:
  - active_loop: transfer_form
  - slot_was_set:
    - receiver: 545659585448 

- story: amount provided during transfer
  steps:
  - active_loop: transfer_form
  - intent: amount_provided
  - slot_was_set:
    - amount: 5000


# - story: interactive_story_1
#   steps:
#   - intent: transfer_money
#   - action: transfer_form
#   - active_loop: transfer_form
#   - slot_was_set:
#     - requested_slot: receiver
#   - slot_was_set:
#     - receiver: '123456789012'
#   - slot_was_set:
#     - receiver: '123456789012'
#   - slot_was_set:
#     - requested_slot: amount
#   - slot_was_set:
#     - amount: '5000'
#   - slot_was_set:
#     - amount: '5000'
#   - slot_was_set:
#     - requested_slot: null
#   - active_loop: null

